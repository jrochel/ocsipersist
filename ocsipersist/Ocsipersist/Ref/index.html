<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Ref (ocsipersist.Ocsipersist.Ref)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">ocsipersist</a> &#x00BB; <a href="../index.html">Ocsipersist</a> &#x00BB; Ref</nav><header class="odoc-preamble"><h1>Module <code><span>Ocsipersist.Ref</span></code></h1><p>Simple interface for persistent references. Relies on <code>Stdlib.Marshal</code> for (de)serialisation, which entails the same limitations as for the <a href="../Polymorphic/index.html"><code>Polymorphic</code></a> frontend. If this is an issue you can rely on <a href="../Functorial/index.html"><code>Functorial</code></a> frontend instead (see <a href="../../../ocsipersist-lib/Ocsipersist_lib/Sigs/module-type-TABLE/Variable/index.html"><code>TABLE.Variable</code></a>).</p><p>Persistent references for OCaml</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span></code></div><div class="spec-doc"><p>The type of (persistent or not) references</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ref"><a href="#val-ref" class="anchor"></a><code><span><span class="keyword">val</span> ref : <span><span class="optlabel">?persistent</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>ref ?persistent default</code> creates a reference. If optional parameter <code>?persistent</code> is absent, the reference will not be persistent (implemented using OCaml references). Otherwise, the value of <code>persistent</code> will be used as key for the value in the persistent reference table. If the reference already exists, the current value is kept. Be careful to change this name every time you change the type of the value.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Get the value of a reference</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-set"><a href="#val-set" class="anchor"></a><code><span><span class="keyword">val</span> set : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Set the value of a reference</p></div></div></div></body></html>
